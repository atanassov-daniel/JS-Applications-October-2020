<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Articles</title>
    <link rel="stylesheet" href="./style.css">
    <!-- импортваме Handlebars -->
    <script src="node_modules/handlebars/dist/handlebars.js"></script>
</head>

<body>
    <div class="site-wrapper">
        <h1>Articles</h1>

        <div id="articles">

        </div>
    </div>

    <script type="module">
        import articles from './articles.js';

        // дефинираме си самия html в чист стринг
        const articleView = `
            <article class="article-item">
                <header>
                    <h3>{{title}}</h3>
                </header>

                <section>
                    <p>{{body}}</p>
                </section>

                {{#if author}}
                    <footer>
                        <p>Author: {{author}}</p>
                    </footer>
                {{/if}}
            </article>
        `;

        // самия template си го създаваме чрез Handlebars.compile(html)
        const articleTemplate = Handlebars.compile(articleView);
        // ще вземе стринга с html-a, ще го компилира и ще създаде template(-> функция, която очаква да и се подадат данни и ще генерира готов html) - > тази функция идва с помощта на Handlebars.compile(html)

        const articlesListElement = document.getElementById('articles');

        // на функцията articlesTemplate подаваме обект с данните, който да има properties със същите имена като във темплейта
        let articlesHTML = articles.map(articleObj => articleTemplate(articleObj)).join('');
        // ако го няма някое от property-тата(пр. автора от първия обект), просто няма да напише нищо на мястото му, няма да изпише undefined като на демото без Handlebars-a -> като не му подадем нищо, не показва нищо

        articlesListElement.innerHTML = articlesHTML;
    </script>
</body>

</html>

<!--
        <div id="articles">
            <article>
                <header>
                    <h3>Some title</h3>
                </header>

                <section>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam ducimus voluptatum ratione,
                        quaerat sed dolore totam perspiciatis tenetur ea saepe?</p>
                </section>

                <footer>
                    <p>Author: Dragan Cankov</p>
                </footer>
            </article>

            <article>
                <header>
                    <h3>Some title</h3>
                </header>

                <section>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam ducimus voluptatum ratione,
                        quaerat sed dolore totam perspiciatis tenetur ea saepe?</p>
                </section>

                <footer>
                    <p>Author: Dragan Cankov</p>
                </footer>
            </article>

            <article>
                <header>
                    <h3>Some title</h3>
                </header>

                <section>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam ducimus voluptatum ratione,
                        quaerat sed dolore totam perspiciatis tenetur ea saepe?</p>
                </section>

                <footer>
                    <p>Author: Dragan Cankov</p>
                </footer>
            </article>

            <article>
                <header>
                    <h3>Some title</h3>
                </header>

                <section>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam ducimus voluptatum ratione,
                        quaerat sed dolore totam perspiciatis tenetur ea saepe?</p>
                </section>

                <footer>
                    <p>Author: Dragan Cankov</p>
                </footer>
            </article>

            <article>
                <header>
                    <h3>Some title</h3>
                </header>

                <section>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam ducimus voluptatum ratione,
                        quaerat sed dolore totam perspiciatis tenetur ea saepe?</p>
                </section>

                <footer>
                    <p>Author: Dragan Cankov</p>
                </footer>
            </article>
        </div>
        -->